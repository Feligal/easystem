<section>
  <mat-card>
    <mat-card-content>
      <h3 *ngIf="departmentName">{{departmentName}} Department Users</h3>
      <mat-divider></mat-divider>
      <div fxLayout="">
        <div fxFlex fxLayout="row" fxLayoutAlign="flex-end">          
          <ul fxLayout="row">
            <li>
              <button style="margin-right:10px" *ngIf="selection.hasValue()" type="button"
                      color="warn"
                      matTooltip="Remove All Selected;"
                      (click)="onRemoveAllSelected()"
                      name="btnDelNotification"
                      mat-raised-button>
                <mat-icon>highlight_off</mat-icon>Remove Selected
              </button>              
            </li>
          </ul>
        </div>
      </div>

      <table mat-table style="width:100%" [dataSource]="dataSource" matSort matTableExporter #exporter="matTableExporter" [hiddenColumns]="[0, 4]">
        <ng-container matColumnDef="index">
          <th mat-header-cell *matHeaderCellDef>No</th>
          <td mat-cell *matCellDef="let element;let i = index;">{{i + 1}}<span style="margin-left:20px;"></span></td>
        </ng-container>

        <ng-container matColumnDef="firstName">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>First Name</th>
          <td mat-cell *matCellDef="let element">{{element.firstName }}</td>
        </ng-container>

        <ng-container matColumnDef="lastName">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Last Name</th>
          <td mat-cell *matCellDef="let element">{{element.lastName }}</td>
        </ng-container>

        <ng-container matColumnDef="email">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>
          <td mat-cell *matCellDef="let element">{{element.email }}</td>
        </ng-container>


        <ng-container matColumnDef="select">
          <td mat-header-cell *matHeaderCellDef>
            <mat-checkbox (change)="$event ? masterToggle() : null"
                          [checked]="selection.hasValue() && isAllSelected()"
                          [indeterminate]="selection.hasValue() && !isAllSelected()"
                          [aria-label]="checkboxLabel()">
              Select
            </mat-checkbox>
          </td>
          <td mat-cell *matCellDef="let element">
            <mat-checkbox (click)="$event.stopPropagation()"
                          ngModel name="IdsToRemove_{{element.id}}"
                          value="{{element.id}}"
                          (change)="$event ? selection.toggle(element) : null"
                          [checked]="selection.isSelected(element)"
                          [aria-label]="checkboxLabel(element)">
            </mat-checkbox>
          </td>
        </ng-container>


        <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
        <tr mat-row *matRowDef="let row;
           columns: displayedColumns;
           let i = index;
           let even = even;"
            [ngClass]="{ 'gray': even, 'highlight': selectedRowIndex == row.id}"
            (click)="highlight(row)">
        </tr>
      </table>

      <mat-paginator #paginator showFirstLastButtons
                     [pageSize]="10"
                     [pageSizeOptions]="[10,20, 30, 40,50,100]">
      </mat-paginator>      
    </mat-card-content>
  </mat-card>
</section>
<br />
<mat-divider></mat-divider>
<br />


<section>
  <mat-card>
    <mat-card-content>
      <h3>Admin Users</h3>
      <mat-divider></mat-divider>
      <div fxLayout="">
        <div fxFlex fxLayout="row" fxLayoutAlign="flex-end">          
          <ul fxLayout="row">
            <li>
              <button style="margin-right:10px" *ngIf="selection2.hasValue()" type="button"
                      color="primary"
                      matTooltip="Add All Selected;"
                      (click)="onAddAllSelected()"
                      name="btnDelNotification"
                      mat-raised-button>
                <mat-icon>add_box</mat-icon>Add All Selected
              </button>              
            </li>
          </ul>
        </div>
      </div>

      <table mat-table style="width:100%" [dataSource]="dataSource2" matSort matTableExporter #exporter="matTableExporter" [hiddenColumns]="[0, 4]">
        <ng-container matColumnDef="index">
          <th mat-header-cell *matHeaderCellDef>No</th>
          <td mat-cell *matCellDef="let element;let i = index;">{{i + 1}}<span style="margin-left:20px;"></span></td>
        </ng-container>

        <ng-container matColumnDef="firstName">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>First Name</th>
          <td mat-cell *matCellDef="let element">{{element.firstName }}</td>
        </ng-container>

        <ng-container matColumnDef="lastName">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Last Name</th>
          <td mat-cell *matCellDef="let element">{{element.lastName }}</td>
        </ng-container>

        <ng-container matColumnDef="email">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>
          <td mat-cell *matCellDef="let element">{{element.email }}</td>
        </ng-container>


        <ng-container matColumnDef="select">
          <td mat-header-cell *matHeaderCellDef>
            <mat-checkbox (change)="$event ? masterToggle2() : null"
                          [checked]="selection2.hasValue() && isAllSelected2()"
                          [indeterminate]="selection2.hasValue() && !isAllSelected2()"
                          [aria-label]="checkboxLabel2()">
              Select
            </mat-checkbox>
          </td>
          <td mat-cell *matCellDef="let element">
            <mat-checkbox (click)="$event.stopPropagation()"
                          ngModel name="IdsToRemove_{{element.id}}"
                          value="{{element.id}}"
                          (change)="$event ? selection2.toggle(element) : null"
                          [checked]="selection2.isSelected(element)"
                          [aria-label]="checkboxLabel2(element)">
            </mat-checkbox>
          </td>
        </ng-container>




        <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
        <tr mat-row *matRowDef="let row;
           columns: displayedColumns;
           let i = index;
           let even = even;"
            [ngClass]="{ 'gray': even, 'highlight': selectedRowIndex == row.id}"
            (click)="highlight(row)">
        </tr>
      </table>

      <mat-paginator #paginator showFirstLastButtons
                     [pageSize]="10"
                     [pageSizeOptions]="[10,20, 30, 40,50,100]">
      </mat-paginator>      
    </mat-card-content>
  </mat-card>
</section>

