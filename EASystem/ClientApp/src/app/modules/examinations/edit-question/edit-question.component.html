<section cdkDrag cdkDragRootElement=".cdk-overlay-pane" cdkDragHandle>
  <mat-card>
    <mat-card-content>
      <h4>Edit Question</h4>
      <mat-divider></mat-divider>
      <form style="margin:0" [formGroup]="myForm" (ngSubmit)="onSave()">
        <div fxLayoutAlign="space-between" fxLayout.xs="column" fxLayout="row wrap">
          <input matInput type="number"
                 formControlName="itemId" hidden />

          <mat-form-field>
            <textarea matInput placeholder="Question" formControlName="text"></textarea>
            <mat-hint>Please the Question Name.</mat-hint>
            <mat-error><span *ngIf="errorHandling('text','required')">Question is required field.</span></mat-error>
            <mat-error><span *ngIf="errorHandling('text','maxlength')">Question must not be more than 1000 characters.</span></mat-error>
          </mat-form-field>


          <div *ngIf="question.image">
            <h4>Diagram</h4>
            <img style="width:400px;" src="/questionDiagramImages/{{question.image}}" />
          </div>

          <mat-form-field>
            <input matInput type="text" placeholder="Answer A"
                   formControlName="answerA"/>
            <mat-hint>Please enter Answer</mat-hint>
            <mat-error><span *ngIf="errorHandling('answerA','required')">Answer A is a required field.</span></mat-error>
            <mat-error><span *ngIf="errorHandling('answerA','maxlength')">Answer A must not be more than 1000 characters.</span></mat-error>
          </mat-form-field>


          <mat-form-field>
            <input matInput type="text" placeholder="Answer B"
                   formControlName="answerB"  />
            <mat-hint>Please enter Answer B</mat-hint>
            <mat-error><span *ngIf="errorHandling('answerB','required')">Answer B is a required field.</span></mat-error>
            <mat-error><span *ngIf="errorHandling('answerB','maxlength')">Answer B must not be more than 1000 characters.</span></mat-error>
          </mat-form-field>



          <mat-form-field>
            <input matInput type="text" placeholder="Answer C" 
                   formControlName="answerC" />
            <mat-hint>Please enter Answer C</mat-hint>
            <mat-error><span *ngIf="errorHandling('answerC','required')">Answer C is a required field.</span></mat-error>
            <mat-error><span *ngIf="errorHandling('answerC','maxlength')">Answer C must not be more than 1000 characters.</span></mat-error>
          </mat-form-field>


          <mat-form-field>
            <input matInput type="text" placeholder="Answer D"
                   formControlName="answerD" />
            <mat-hint>Please enter Answer D</mat-hint>
            <mat-error><span *ngIf="errorHandling('answerD','required')">Answer D is a required field.</span></mat-error>
            <mat-error><span *ngIf="errorHandling('answerD','maxlength')">Answer D must not be more than 1000 characters.</span></mat-error>
          </mat-form-field>

          <mat-form-field>
            <input matInput type="text" placeholder="Correct Answer" maxlength="1000"
                   formControlName="correctAnswer" />
            <mat-hint>Please enter correct Answer</mat-hint>
            <mat-error><span *ngIf="errorHandling('correctAnswer','required')">Correct answer is a required field.</span></mat-error>
            <mat-error><span *ngIf="errorHandling('correctAnswer','maxlength')">Correct answer must not be more than 1000 characters.</span></mat-error>
          </mat-form-field>

          <div>
            <h4>Upload Diagram if needed(Optional)</h4>
            <input type="file" id="fileUpload" name="fileUpload" accept="{{accept}}" />
          </div>

        </div>
        <br />
        <mat-divider></mat-divider>
        <br />
        <div style="text-align:center">
          <button matTooltip="Save" mat-raised-button color="primary" type="submit" [disabled]="myForm.invalid"><mat-icon>save</mat-icon>Save</button>
          <button matTooltip="Back" mat-raised-button color="default" type="button" style="margin-left:10px" (click)="onClear()"><mat-icon>clear</mat-icon>Clear</button>
          <button matTooltip="Cancel" mat-raised-button color="warn" type="button" style="margin-left:10px" (click)="onCancel()"><mat-icon>block</mat-icon>Cancel</button>
        </div>
       
      </form>
      <br />
    </mat-card-content>
  </mat-card>

</section>

