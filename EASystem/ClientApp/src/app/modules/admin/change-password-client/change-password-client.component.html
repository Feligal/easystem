<section cdkDrag cdkDragRootElement=".cdk-overlay-pane" cdkDragHandle>
  <div class="login-container" fxLayout="row wrap" fxFlex fxLayoutAlign="center">
    <mat-card>
      <h4 style="text-align: center">Change Password</h4> <mat-divider></mat-divider>
      <mat-card-content>
        <br />
        <img id="login-img" class="login-img" src="//ssl.gstatic.com/accounts/ui/avatar_2x.png" />
        <form style="margin:0 30px" fxLayoutGap="10px" [formGroup]="myForm" (ngSubmit)="onSubmit()">
          <div fxLayoutAlign="center" fxLayout="column">
            <div class="has-error" *ngIf="myForm.errors?.authError">
              {{myForm.errors.authError}}
            </div>
            <br />
            <input matInput type="text"
                   formControlName="userId" hidden />
            <mat-form-field>
              <input matInput [type]="hide ? 'password': 'text'" placeholder="Current  Password *"
                     formControlName="currentPassword" /><mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
              <mat-hint>Please enter current password.</mat-hint>
              <mat-error><span *ngIf="errorHandling('currentPassword','required')">Current password is a required field.</span></mat-error>
              <mat-error><span *ngIf="errorHandling('currentPassword','maxlength')">Current password can not be more than 40 characters.</span></mat-error>
            </mat-form-field>

            <mat-form-field>
              <input matInput [type]="hide ? 'password': 'text'" placeholder="New Password *"
                     formControlName="newPassword" /><mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
              <mat-hint>Please enter new password.</mat-hint>
              <mat-error><span *ngIf="errorHandling('newPassword','required')">New Password is a required field.</span></mat-error>
              <mat-error><span *ngIf="errorHandling('newPassword','maxlength')">New Password can not be more than 40 characters.</span></mat-error>
              <mat-error><span *ngIf="errorHandling('newPassword','minlength')">Password should be atleast 8 characters.</span></mat-error>
            </mat-form-field>


            <mat-form-field>
              <input matInput [type]="hide ? 'password': 'text'" placeholder="Confirm New Password *"
                     formControlName="passwordConfirm" /><mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
              <mat-hint>Please repeat and confirm new password.</mat-hint>
              <mat-error><span *ngIf="errorHandling('passwordConfirm','required')">New Password is a required field.</span></mat-error>
              <mat-error><span *ngIf="hasMismatchError('passwordConfirm')">Password and confirmed password do not match.</span></mat-error>
            </mat-form-field>
          </div>
          <br />
          <mat-divider></mat-divider>
          <br />
          <div fxLayoutAlign="center" fxLayoutGap="10px" fxLayout="row wrap">
            <button mat-raised-button type="submit" color="primary" [disabled]="myForm.invalid"><mat-icon>save</mat-icon>Save</button>
            <button matTooltip="Clear" mat-raised-button type="reset" color="warn"><mat-icon>clear</mat-icon>Clear</button>
            <button matTooltip="Cancel" mat-raised-button type="button" (click)="onCancel()" color="accent"><mat-icon>not_interested</mat-icon>Close</button>
          </div>
        </form><br />
      </mat-card-content>
    </mat-card>
  </div>
</section>





